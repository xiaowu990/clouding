
# yum安装（centos类）
## 准备工作


1. 打开虚拟机，使用远程连接工具连接 linux 操作系统
2. 在家目录下创建一个文件夹放这些安装包
3. 到 nginx 官网下载软件

http://nginx.org/

![[Pasted image 20230730145541.png]]
4. 使用命令直接在命令行中下载到指定目录

wget http://nginx.org/download/nginx-1.16.1.tar.gz

## 进行 nginx 安装

### 安装 pcre 依赖

1. 联网下载 pcre 压缩文件依赖
放到/usr/src目录下

wget http://downloads.sourceforge.net/project/pcre/pcre/8.37/pcre-8.37.tar.gz

2. 解压压缩文件

tar –xvf pcre-8.37.tar.gz

3. 编译
进入pcre-8.37的目录中去，
./configure 


4.  pcre 目录下执行 make && make install编译并安装


5. 查看pcre依赖是否安装成功：
pcre-config --version



### 安装 openssl 、zlib 、 gcc 依赖

yum -y install make zlib zlib-devel gcc-c++ libtool openssl openssl-devel

在ubuntu等系统中：
```
sudo apt-get install build-essential zlib1g-dev gcc g++ libtool openssl libssl-dev
```
### 安装 nginx
1. wget http://nginx.org/download/nginx-1.16.1.tar.gz
2. 还是放到/usr/src下

3. 使用命令解压

3.进入到nginx目录中去再执行 ./configure

4. make && make install



5. 进入目录 /usr/local/nginx/sbin/nginx 启动服务（直接复制可能会出错）


**安装后，不能访问的，需要对防火墙进行设置**

**也可以直接关闭防火墙，并防止自启(在练习模式中)**
```
//关闭防火墙&&防火墙自启
systemctl stop firewalld && systemctl disable firewalld

//安装Iptables管理工具&&启动Iptables&&设为Iptables开机自启&&清空Iptables规则&&保存Iptables默认规则
yum -y install iptables-services && systemctl start iptables && systemctl enable iptables&& iptables -F && service iptables save
```

①　查看开放的端口

firewall-cmd --list-all

![](https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102553820-1653097356.png)

②　设置开放的端口号

firewall-cmd --add-service=http –permanent

firewall-cmd --add-port=80/tcp --permanent

③　设置之后需要重启防火墙

firewall-cmd --reload

![](https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102610520-1568314025.png)

④　访问成功

 ![](https://img2018.cnblogs.com/blog/1455597/201910/1455597-20191029102622854-1627774877.png)

# 一行命令安装
1. apt-get updat：包升级
2. apt install nginx
3. systemctl status nginx：查看状态，是否开启
4. systemctl enable nginx：设置重启之后自动开启Nginx
5. nginx -v：查看版本
6. 查看一行命令安装的 nginx位置：
![[Pasted image 20230730222712.png]]
![[Pasted image 20230730181924.png]]

![[Pasted image 20230730181832.png]]

# 源码安装（ubuntu类）
1. 安装包==可以==放在opt目录下
2. 安装依赖包;
	1. sudo apt-get update
	2. sudo apt-get install libpcre3-dev
	3. sudo apt-get install gcc
	4. sudo apt-get install zlib1g-dev
	5. sudo apt-get install openssl 
	6. sudo apt-get install libssl-dev
3. 安装nginx
   cd /usr/local 
   mkdir nginx 
   cd nginx
   wget http://nginx.org/download/nginx-1.22.1.tar.gz
   tar –xvf nginx-1.22.1.tar.gz
4. 编译
	进入nginx目录 /usr/local/nginx/nginx-1.13.7 
	./configure 
	make 
	make install
5. 启动
进入nginx启动目录cd /usr/local/nginx/sbin
启动nginx：./nginx





