# df
格式：`df [选项] [目录或文件]`

常用选项：
- `-h`：带计量单位。*`使用人类可读的单位（如 GB、MB）表示磁盘大小和可用空间。`*
- `-T`：显示文件系统类型。
- `-i`：显示 inode 的使用情况。
- `-a`：显示所有文件系统，包括虚拟文件系统。

直接df ，则将显示系统中所有文件系统的磁盘使用情况，包括文件系统的挂载点、总大小、已使用空间、可用空间和使用百分比。

![[Pasted image 20230830163204.png]]

>[!danger] 相关解释
>1. `Filesystem`：文件系统的名称或设备。
>2. `1K-blocks`：以 1KB 为单位的总块数（文件系统的总大小）。
>3. `Used`：已使用的块数。
>4. `Available`：可用的块数。
>5. `Use%`：已使用块数与总块数的百分比。
>6. `Mounted on`：文件系统的挂载点。

如果写了i参数，只会显示关于Inode节点的信息

在某些文件系统中，inode 的数量是有限的。这意味着文件系统只能创建有限数量的文件和目录，无论磁盘空间是否充足。当 inode 的数量达到上限时，即使磁盘空间仍有剩余，您将无法创建新的文件或目录。

![[Pasted image 20230830172427.png]]


> [!summary] 关于-i参数的说明
> 1. `Filesystem`：文件系统的名称或设备。
>2. `Type`：文件系统的类型。
>3. `Inodes`：文件系统中的 inode 总数。
>4. `IUsed`：已使用的 inode 数量。
>5. `IFree`：可用的 inode 数量。
>6. `IUse%`：已使用 inode 数量与总 inode 数量的百分比。
>7. `Mounted on`：文件系统的挂载点。
# du
查看目录或文件对磁盘空间的使用情况
•基本语法 `du [选项] 目录` (查询指定目录的磁盘占用情况，默认为当前目录)
* -s 仅显示总计大小，而不显示每个文件或目录的详细信息
* -h 带计量单位 
* -a 含文件 
* --max-depth=1 子目录深度
* -c 列出明细的同时，在输出结果的最后一行显示总计大小
![[Pasted image 20230830180350.png]]

#  fdisk
用于对磁盘分区进行管理。它可以创建、删除、调整和显示磁盘分区的信息。

格式: `fdisk 选项 设备路径`


**注意：使用 `fdisk` 命令需要管理员权限，请小心操作以避免意外删除或修改数据。在对磁盘进行任何更改之前，请务必备份重要数据。**

常用选项
- `-l`：显示设备的分区表信息，而不进行任何更改。
- `-n`：创建一个新分区。
- `-d`：删除一个分区。
- `-p`：显示当前分区表的详细信息。

![[Pasted image 20230830181402.png]]

```

- `Disk /dev/vda: 42.9 GB, 42949672960 bytes`：表示 `/dev/vda` 是一个磁盘，容量为 42.9 GB，即 42,949,672,960 字节。
- `255 heads, 63 sectors/track, 5221 cylinders`：表示该磁盘的几何结构，包括磁头数、每磁道扇区数和磁道数。
- `Units = cylinders of 16065 * 512 = 8225280 bytes`：表示每个柱面（cylinder）包含的字节数，其中柱面的大小由磁头数和每磁道扇区数决定。
- `Sector size (logical/physical): 512 bytes / 512 bytes`：表示逻辑块和物理块的大小，都为 512 字节。
- `I/O size (minimum/optimal): 512 bytes / 512 bytes`：表示 I/O 操作的最小和最佳块大小，都为 512 字节。
- `Disk identifier: 0x0003f2f1`：表示磁盘的唯一标识符。

接下来是磁盘分区表的信息：

- `/dev/vda1`：表示 `/dev/vda` 上的第一个分区。
- `*`：表示该分区是启动分区。
- `Start`：表示分区的起始柱面。
- `End`：表示分区的结束柱面。
- `Blocks`：表示分区的大小，以块为单位。
- `Id`：表示分区的标识码，用于指示分区的文件系统类型。
- `System`：表示分区所使用的文件系统类型。
```

# 磁盘格式化
mkfs....................................
# 磁盘检验与修复
`fsck`（File System Consistency Check）是一个用于检查和修复文件系统中错误的命令。

格式：`fsck [选项] 文件系统设备路径`

常见选项：

- `-a`：自动修复文件系统中的错误。
- `-y`：自动回答 "yes"，即在修复过程中自动应答确认问题。
- `-n`：仅显示将要进行的操作，而不执行实际的修复。
- `-r`：交互式修复，允许用户指定修复操作。


# 实例
1. 统计home文件夹下的文件的个数
![[Pasted image 20230724160847.png]]

3. 统计home文件夹下目录的个数
![[Pasted image 20230724160858.png]]
5. 统计home文件夹下文件的个数，包括子文件夹里的
![[Pasted image 20230724160917.png]]
7. 统计home文件夹下目录的个数，包括子文件夹里的
![[Pasted image 20230724160933.png]]
9. 以树状显示目录结构
![[Pasted image 20230724160947.png]]
