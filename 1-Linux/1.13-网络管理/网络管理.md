# 三个网络模式
[(140条消息) VMware虚拟机三种网络模式：桥接模式，NAT模式，仅主机模式_虚拟机桥接模式是什么意思_瞧德的博客-CSDN博客](https://blog.csdn.net/qq_39192827/article/details/85872025?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522169044334916800180649985%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=169044334916800180649985&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~baidu_landing_v2~default-3-85872025-null-null.142^v91^insert_down1,239^v3^control&utm_term=%E4%B8%89%E7%A7%8D%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%BC%8F&spm=1018.2226.3001.4187)
## NAT（Network Address Translation）网络地址转换模式

在建立虚拟机时会建立一块NAT地址转换的虚拟网卡，这块网卡会同时分配给每一台虚拟机一个IP地址，在这个虚拟网络内，虚拟机与虚拟机之间，虚拟机与主机之间都是可以相互通信的，虚拟机与外部通信还是要通过主机。例如，虚拟机发送请求到主机，主机再发给服务求去处理请求，处理完后回复到主机，主机再通过NAT地址转换网卡将回复发送给发出请求的虚拟机，

## Bridged（桥接）模式


## Host-Only（仅主机）模式

# 网络管理相关命令
## ifconfig（interface config）
用于配置网卡IP地址等网络参数或显示当前网络的接口状态。windows下是ipconfig，注意不要混淆。
ifconfig配置网卡信息时必须以root用户来执行。
使用ifconfig配置网卡信息仅会临时生效，重启网络或服务器配置就会失效

> 💍网卡（Network Interface Card），也被称为网络适配器或网络接口控制器，是计算机用于连接到网络的硬件设备。它是计算机与网络之间进行数据传输的接口，负责接收和发送网络数据包。

![[Pasted image 20230831152339.png]]

linux下的网络接口名：
eth0：表示第1块网卡
eth1：表示第二块网卡
lo：表示回环接口

>[!note] 参数详解
>1. eth0: 这是一个以太网接口的名称。
>     
> 2. flags=4163: 标志位，表示接口的状态。其中，4163的二进制表示为`1000000100011`，可以解读为：
>     
>     - UP：接口处于启用状态。
>     - BROADCAST：支持广播通信。
>     - RUNNING：接口正在运行。
>     - MULTICAST：支持多播通信。
> 3. mtu 1450: 最大传输单元（Maximum Transmission Unit），表示以太网接口支持的最大数据包大小。
>     
> 4. inet 172.16.0.3: 分配给该接口的IPv4地址。
>     
> 5. netmask 255.255.0.0: 子网掩码，用于确定IP地址中网络部分和主机部分的划分。
>     
> 6. broadcast 172.16.255.255: 广播地址，用于向同一网络中的所有设备发送数据包。
>     
> 7. inet6 fe80::d662:97b7:3976:db84: 分配给该接口的IPv6地址。
>     
> 8. ether fa:16:3e:56:d2:4d: 以太网接口的MAC地址。
>     
> 9. txqueuelen 1000: 发送队列长度，表示接口可以同时排队等待发送的数据包数量。
>     
> 10. RX packets 141393: 接收到的数据包数量。
>     
> 11. bytes 86449641: 接收到的字节数。
>     
> 12. RX errors 0: 接收错误的数量。
>     
> 13. dropped 0: 丢弃的数据包数量。
>     
> 14. overruns 0: 接收缓冲区溢出次数。
>     
> 15. frame 0: 帧错误的数量。
>     
> 16. TX packets 122548: 发送的数据包数量。
>     
> 17. bytes 59706660: 发送的字节数。
>     
> 18. TX errors 0: 发送错误的数量。
>     
> 19. dropped 0: 丢弃的数据包数量。
>     
> 20. overruns 0: 发送缓冲区溢出次数。
>     
> 21. carrier 0: 与发送介质的连接状态。
>     
> 22. collisions 0: 发生的碰撞（冲突）次数。

常见的使用示例
1. ifconfig：查看所有
2. ifconig eth0：显示指定网络接口（网卡）
3. ifconfig eth0 up/down：启动、禁止指定网络接口
> 使用`ifup/ifdown eth0`可以直接激活禁用网卡

## route 显示或管理路由表
linux中配置的路由都属于静态路由，静态路由则是由系统管理员使用route命令加入的，即手动加入

![[Pasted image 20230831154205.png]]

> [!note] 参数详解
> 1. Destination: 目标网络或目标主机的IP地址。
>     
> 2. Gateway: 下一跳网关的IP地址。当数据包要发送到目标网络或主机时，将通过此网关进行转发。
>     
> 3. Genmask: 子网掩码，用于确定网络地址和主机地址的划分。
>     
> 4. Flags: 标志位，指示路由的属性和状态。
>     
>     - U: 表示该路由条目是有效的（up）。
>         
>     - G: 表示该路由条目具有默认网关的属性。
>         
>     - 0.0.0.0: 表示默认路由，用于指示发送到任何目标网络的数据包。
>         
> 5. Metric: 路由的度量值。它是路由选择算法的一部分，用于确定优先级和距离。
>     
> 6. Ref: 路由的引用计数。它指示有多少个路由表条目引用该路由。
>     
> 7. Use: 路由的使用计数。它指示有多少个数据包已经使用该路由。
>     
> 8. Iface: 路由相关的网络接口。

>[!tip] 对几个输出选项进行解释
>1. 默认路由：
>     
>     - Destination: default
>     - Gateway: gateway
>     - Genmask: 0.0.0.0
>     - Flags: UG (有效且具有默认网关属性)
>     - Metric: 100
>     - Ref: 0
>     - Use: 0
>     - Iface: eth0
>     
>     此路由条目用于发送到任何目标网络的数据包，当没有更匹配的路由条目时，将使用此默认路由。
>     
> 2. 目标网络为169.254.169.0/24的路由：
>     
>     - Destination: 169.254.169.0
>     - Gateway: gateway
>     - Genmask: 255.255.255.0
>     - Flags: UG (有效且具有默认网关属性)
>     - Metric: 100
>     - Ref: 0
>     - Use: 0
>     - Iface: eth0
>     
>     此路由条目用于将数据包发送到目标网络为169.254.169.0/24的主机。
>     
> 3. 目标网络为172.16.0.0/16的路由：
>     
>     - Destination: 172.16.0.0
>     - Gateway: 0.0.0.0
>     - Genmask: 255.255.0.0
>     - Flags: U (有效且不需要网关)
>     - Metric: 100
>     - Ref: 0
>     - Use: 0
>     - Iface: eth0
>     
>     此路由条目用于将数据包发送到目标网络为172.16.0.0/16的主机，且不需要经过网关，直接通过eth0接口发送。
>
>

## ip 网络配置工具
## netstat 查看网络状态
用于显示本机网络的连接状态，运行端口和路由表等信息

常用的参数如下

-a：显示所有活动的网络连接
-l：显示监听端口
-i：显示网络接口统计信息
-r：显示路由表

。。。。

## ssh



# 查看网络配置
1. 界面查看或修改IP

![[Pasted image 20230724181053.png]]

2. 界面查看或修改NAT
![[Pasted image 20230724181219.png]]

3. 界面查看windows中的VMnet8网络配置
![[Pasted image 20230724181558.png]]


4. 终端查看
![[Pasted image 20230724181750.png]]


# Linux网络环境配置

直 接 修 改 配 置 文 件 来 指 定 IP, 并 可 以 连 接 到 外 网 ，编辑
vi /etc/sysconfig/network-scripts/ifcfg-eth0（仅限于centOS）

==修改后，一定要 重启服务 ==
1) service network restart 
2) reboot 重启系统

![[Pasted image 20230724163652.png]]
![[Pasted image 20230724182850.png]]
# 更改虚拟机为静态IP
